{
    "sourceFile": "src/components/commun/header.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 5,
            "patches": [
                {
                    "date": 1750188187242,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1750188227910,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -83,9 +83,9 @@\n                   <User className=\"w-4 h-4\" /> Espace Utilisateur\r\n                 </Link>\r\n \r\n                 <Link to=\"/reservation\" className={baseLinkClass} style={{ textDecoration: 'none' }}>\r\n-                  <CalendarCheck className=\"w-4 h-4\" /> R√©server\r\n+                  <CalendarCheck className=\"w-4 h-4\" /> LI\r\n                 </Link>\r\n \r\n                 {!isPremiumUser(currentRole) && (\r\n                   <Link to=\"/devenir-premium\" className={baseLinkClass} style={{ textDecoration: 'none' }}>\r\n"
                },
                {
                    "date": 1750188236226,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -83,9 +83,9 @@\n                   <User className=\"w-4 h-4\" /> Espace Utilisateur\r\n                 </Link>\r\n \r\n                 <Link to=\"/reservation\" className={baseLinkClass} style={{ textDecoration: 'none' }}>\r\n-                  <CalendarCheck className=\"w-4 h-4\" /> LI\r\n+                  <CalendarCheck className=\"w-4 h-4\" /> PQR\r\n                 </Link>\r\n \r\n                 {!isPremiumUser(currentRole) && (\r\n                   <Link to=\"/devenir-premium\" className={baseLinkClass} style={{ textDecoration: 'none' }}>\r\n"
                },
                {
                    "date": 1750188247312,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -83,9 +83,9 @@\n                   <User className=\"w-4 h-4\" /> Espace Utilisateur\r\n                 </Link>\r\n \r\n                 <Link to=\"/reservation\" className={baseLinkClass} style={{ textDecoration: 'none' }}>\r\n-                  <CalendarCheck className=\"w-4 h-4\" /> PQR\r\n+                  <CalendarCheck className=\"w-4 h-4\" /> Professionels de sant\r\n                 </Link>\r\n \r\n                 {!isPremiumUser(currentRole) && (\r\n                   <Link to=\"/devenir-premium\" className={baseLinkClass} style={{ textDecoration: 'none' }}>\r\n"
                },
                {
                    "date": 1750188257756,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -83,9 +83,9 @@\n                   <User className=\"w-4 h-4\" /> Espace Utilisateur\r\n                 </Link>\r\n \r\n                 <Link to=\"/reservation\" className={baseLinkClass} style={{ textDecoration: 'none' }}>\r\n-                  <CalendarCheck className=\"w-4 h-4\" /> Professionels de sant√©\r\n+                  <CalendarCheck className=\"w-4 h-4\" /> Professionels  \r\n                 </Link>\r\n \r\n                 {!isPremiumUser(currentRole) && (\r\n                   <Link to=\"/devenir-premium\" className={baseLinkClass} style={{ textDecoration: 'none' }}>\r\n"
                },
                {
                    "date": 1750258232495,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -124,9 +124,9 @@\n             )}\r\n \r\n             {currentRole === \"ADMIN\" && (\r\n               <>\r\n-                <Link to=\"/admin/dashboard\" className={baseLinkClass} style={{ textDecoration: 'none' }}>\r\n+                <Link to=\"/dashboardadmin/\" className={baseLinkClass} style={{ textDecoration: 'none' }}>\r\n                   <User className=\"w-4 h-4\" /> Admin\r\n                 </Link>\r\n                 <button\r\n                   onClick={handleDeconnexion}\r\n"
                }
            ],
            "date": 1750188187241,
            "name": "Commit-0",
            "content": "import React, { useState, useEffect } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { logout } from '../../services/serviceAuth';\r\nimport {\r\n  BookOpen,\r\n  LogOut,\r\n  User,\r\n  HeartPulse,\r\n  Crown,\r\n  Home,\r\n  Info,\r\n  MessageCircle,\r\n  CalendarCheck,\r\n} from 'lucide-react';\r\n\r\nconst Header = () => {\r\n  const navigate = useNavigate();\r\n  const [currentRole, setCurrentRole] = useState(localStorage.getItem('role'));\r\n\r\n  useEffect(() => {\r\n    const handleStorageChange = () => {\r\n      const updatedRole = localStorage.getItem('role');\r\n      setCurrentRole(updatedRole);\r\n      if (!updatedRole) navigate('/connexion');\r\n    };\r\n    window.addEventListener('storage', handleStorageChange);\r\n    return () => window.removeEventListener('storage', handleStorageChange);\r\n  }, [navigate]);\r\n\r\n  const handleDeconnexion = async () => {\r\n    try {\r\n      await logout();\r\n    } catch (error) {\r\n      console.error(\"Erreur de d√©connexion :\", error);\r\n    }\r\n  };\r\n\r\n  const isProfessional = (role) => ['PSYCHOLOGUE', 'PSYCHIATRE'].includes(role);\r\n  const isPremiumUser = (role) => ['PREMIUM', 'ADMIN'].includes(role);\r\n\r\n  const baseLinkClass =\r\n    \"flex items-center gap-1 text-indigo-600 hover:text-indigo-800 transition\";\r\n\r\n  const handleSelectChange = (e) => {\r\n    const value = e.target.value;\r\n    if (value === \"connexion\") navigate('/connexion');\r\n    else if (value === \"inscription\") navigate('/inscription');\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <header className=\"bg-white/90 backdrop-blur-md fixed top-0 w-full z-50 shadow-md h-[70px]\">\r\n        <div className=\"max-w-7xl mx-auto px-6 py-3 flex justify-between items-center h-full\">\r\n          {/* Logo */}\r\n          <Link\r\n            to=\"/\"\r\n            className=\"flex items-center gap-2 text-2xl font-extrabold font-sans text-indigo-600\"\r\n            style={{ textDecoration: 'none' }}\r\n          >\r\n            <HeartPulse className=\"w-7 h-7\" />\r\n            PsyConnect\r\n          </Link>\r\n\r\n          {/* Navigation */}\r\n          <nav className=\"flex items-center gap-6 text-sm font-semibold\">\r\n            <Link to=\"/\" className={baseLinkClass} style={{ textDecoration: 'none' }}>\r\n              <Home className=\"w-4 h-4\" /> Accueil\r\n            </Link>\r\n            <Link to=\"/apropos\" className={baseLinkClass} style={{ textDecoration: 'none' }}>\r\n              <Info className=\"w-4 h-4\" /> √Ä propos\r\n            </Link>\r\n            <Link to=\"/ressources\" className={baseLinkClass} style={{ textDecoration: 'none' }}>\r\n              <BookOpen className=\"w-4 h-4\" /> Ressources\r\n            </Link>\r\n            <Link to=\"/forum\" className={baseLinkClass} style={{ textDecoration: 'none' }}>\r\n              <MessageCircle className=\"w-4 h-4\" /> Forum\r\n            </Link>\r\n\r\n            {/* Espaces selon r√¥le */}\r\n            {currentRole === \"UTILISATEUR\" && (\r\n              <>\r\n                <Link to=\"/tableauUtilisateur\" className={baseLinkClass} style={{ textDecoration: 'none' }}>\r\n                  <User className=\"w-4 h-4\" /> Espace Utilisateur\r\n                </Link>\r\n\r\n                <Link to=\"/reservation\" className={baseLinkClass} style={{ textDecoration: 'none' }}>\r\n                  <CalendarCheck className=\"w-4 h-4\" /> R√©server\r\n                </Link>\r\n\r\n                {!isPremiumUser(currentRole) && (\r\n                  <Link to=\"/devenir-premium\" className={baseLinkClass} style={{ textDecoration: 'none' }}>\r\n                    <Crown className=\"w-4 h-4 text-yellow-600\" /> Premium\r\n                  </Link>\r\n                )}\r\n\r\n                <button\r\n                  onClick={handleDeconnexion}\r\n                  className=\"flex items-center gap-1 text-red-500 hover:underline\"\r\n                >\r\n                  <LogOut className=\"w-4 h-4\" /> D√©connexion\r\n                </button>\r\n              </>\r\n            )}\r\n\r\n            {isProfessional(currentRole) && (\r\n              <>\r\n                <Link to=\"/tableauProfessionnel\" className={baseLinkClass} style={{ textDecoration: 'none' }}>\r\n                  <User className=\"w-4 h-4\" /> Espace Pro\r\n                </Link>\r\n\r\n                {!isPremiumUser(currentRole) && (\r\n                  <Link to=\"/devenir-premium\" className={baseLinkClass} style={{ textDecoration: 'none' }}>\r\n                    <Crown className=\"w-4 h-4 text-yellow-600\" /> Premium\r\n                  </Link>\r\n                )}\r\n\r\n                <button\r\n                  onClick={handleDeconnexion}\r\n                  className=\"flex items-center gap-1 text-red-500 hover:underline\"\r\n                >\r\n                  <LogOut className=\"w-4 h-4\" /> D√©connexion\r\n                </button>\r\n              </>\r\n            )}\r\n\r\n            {currentRole === \"ADMIN\" && (\r\n              <>\r\n                <Link to=\"/admin/dashboard\" className={baseLinkClass} style={{ textDecoration: 'none' }}>\r\n                  <User className=\"w-4 h-4\" /> Admin\r\n                </Link>\r\n                <button\r\n                  onClick={handleDeconnexion}\r\n                  className=\"flex items-center gap-1 text-red-500 hover:underline\"\r\n                >\r\n                  <LogOut className=\"w-4 h-4\" /> D√©connexion\r\n                </button>\r\n              </>\r\n            )}\r\n\r\n            {/* S√©lecteur Connexion/Inscription si non connect√© */}\r\n            {!currentRole && (\r\n              <select\r\n                onChange={handleSelectChange}\r\n                defaultValue=\"\"\r\n                className=\"text-indigo-600 border border-indigo-600 rounded px-2 py-1 cursor-pointer bg-white\"\r\n                style={{ backgroundImage: \"none\" }}\r\n              >\r\n                <option value=\"\" disabled>\r\n                  üë§\r\n                </option>\r\n                <option value=\"connexion\">Connexion</option>\r\n                <option value=\"inscription\">Inscription</option>\r\n              </select>\r\n            )}\r\n          </nav>\r\n        </div>\r\n      </header>\r\n\r\n      {/* Pour compenser le header fixe */}\r\n      <div className=\"pt-[70px]\" />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n"
        }
    ]
}